!function(a){function b(a){Object.defineProperty(this,a,{enumerable:!0,get:function(){return this[o][a]}})}function c(a){var b;if(a&&a.__esModule){b={};for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.__useDefault&&delete b.__useDefault,b.__esModule=!0}else{if("[object Module]"===Object.prototype.toString.call(a)||"undefined"!=typeof System&&System.isModule&&System.isModule(a))return a;b={default:a,__useDefault:!0}}return new d(b)}function d(a){Object.defineProperty(this,o,{value:a}),Object.keys(a).forEach(b,this)}function e(a){return"@node/"===a.substr(0,6)?m(a,c(p(a.substr(6))),{}):n[a]}function f(a){var b=e(a);if(!b)throw new Error('Module "'+a+'" expected, but not contained in build.');if(b.module)return b.module;var c=b.linkRecord;return g(b,c),l(b,c,[]),b.module}function g(a,b){if(!b.depLoads){b.declare&&h(a,b),b.depLoads=[];for(var c=0;c<b.deps.length;c++){var d=e(b.deps[c]);b.depLoads.push(d),d.linkRecord&&g(d,d.linkRecord);var f=b.setters&&b.setters[c];f&&(f(d.module||d.linkRecord.moduleObj),d.importerSetters.push(f))}return a}}function h(b,c){var d=c.moduleObj,e=b.importerSetters,f=!1,g=c.declare.call(a,function(a,b){if(!f){if("object"==typeof a)for(var c in a)"__useDefault"!==c&&(d[c]=a[c]);else d[a]=b;f=!0;for(var g=0;g<e.length;g++)e[g](d);return f=!1,b}},{id:b.key});"function"!=typeof g?(c.setters=g.setters,c.execute=g.execute):(c.setters=[],c.execute=g)}function i(a,b,c){return n[a]={key:a,module:void 0,importerSetters:[],linkRecord:{deps:b,depLoads:void 0,declare:c,setters:void 0,execute:void 0,moduleObj:{}}}}function j(a,b,c,d){return n[a]={key:a,module:void 0,importerSetters:[],linkRecord:{deps:b,depLoads:void 0,declare:void 0,execute:d,executingRequire:c,moduleObj:{default:{},__useDefault:!0},setters:void 0}}}function k(a,b,c){return function(d){for(var e=0;e<a.length;e++)if(a[e]===d){var f,g=b[e],h=g.linkRecord;return f=h?-1===c.indexOf(g)?l(g,h,c):h.moduleObj:g.module,f.__useDefault?f.default:f}}}function l(b,c,e){if(e.push(b),b.module)return b.module;if(c.setters){for(var f=0;f<c.deps.length;f++){var g=c.depLoads[f],h=g.linkRecord;h&&-1===e.indexOf(g)&&l(g,h,h.setters?e:[])}c.execute.call(q)}else{var i={id:b.key},j=c.moduleObj;Object.defineProperty(i,"exports",{configurable:!0,set:function(a){j.default=a},get:function(){return j.default}});var m=k(c.deps,c.depLoads,e);if(!c.executingRequire)for(var f=0;f<c.deps.length;f++)m(c.deps[f]);var n=c.execute.call(a,m,j.default,i);if(void 0!==n?j.default=n:i.exports!==j.default&&(j.default=i.exports),j.default&&j.default.__esModule)for(var o in j.default)Object.hasOwnProperty.call(j.default,o)&&"default"!==o&&(j[o]=j.default[o])}var i=b.module=new d(c.moduleObj);if(!c.setters)for(var f=0;f<b.importerSetters.length;f++)b.importerSetters[f](i);return i}function m(a,b){return n[a]={key:a,module:b,importerSetters:[],linkRecord:void 0}}var n={},o="undefined"!=typeof Symbol?Symbol():"@@baseObject";d.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="Module");var p="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&void 0!==require.resolve&&"undefined"!=typeof process&&process.platform&&require,q={};return Object.freeze&&Object.freeze(q),function(a,b,e,g){return function(h){h(function(h){var k={_nodeRequire:p,register:i,registerDynamic:j,registry:{get:function(a){return n[a].module},set:m},newModule:function(a){return new d(a)}};m("@empty",new d({}));for(var l=0;l<b.length;l++)m(b[l],c(arguments[l],{}));g(k);var o=f(a[0]);if(a.length>1)for(var l=1;l<a.length;l++)f(a[l]);return e?o.default:(o instanceof d&&Object.defineProperty(o,"__esModule",{value:!0}),o)})}}}("undefined"!=typeof self?self:global)(["a"],["12","f"],!1,function(a){this.require,this.exports,this.module;a.register("b",[],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[],execute:function(){c=/\n/,d="\n",e=/\s/,function(a){a[a.GREEDY=0]="GREEDY",a[a.NO_WRAP=1]="NO_WRAP",a[a.PRE=2]="PRE"}(f||(f={})),a("Mode",f),g=function(){function a(a,b){this._text=a,this._opts=b}return a.prototype.textWordWraped=function(a){var b=this;return void 0===a&&(a="\n"),this.lines().map(function(a){return b._text.substring(a.start,a.end)}).join(a)},a.prototype.lines=function(){var a=this._text,b=this._opts;if(0===b.width&&b.mode!==f.NO_WRAP)return[];var c=b.width||Number.MAX_VALUE,d=b.start||0,e=b.end||a.length,g=b.mode,h=b.measure||this.monospace.bind(this);return g===f.PRE?this.pre(h,a,d,e,c):this.greedy(h,a,d,e,c,g)},a.prototype.idxOf=function(a,b,c,d){var e=a.indexOf(b,c);return-1===e||e>d?d:e},a.prototype.isWhitespace=function(a){return e.test(a)},a.prototype.pre=function(a,b,d,e,f){for(var g=[],h=d,i=d;i<e&&i<b.length;i++){var j=b.charAt(i),k=c.test(j);if(k||i===e-1){var l=k?i:i+1,m=a(b,h,l,f);g.push(m),h=i+1}}return g},a.prototype.greedy=function(a,b,c,e,g,h){var i=[],j=g;for(h===f.NO_WRAP&&(j=Number.MAX_VALUE);c<e&&c<b.length;){for(var k=this.idxOf(b,d,c,e);c<k&&this.isWhitespace(b.charAt(c));)c++;var l=a(b,c,k,j),m=c+(l.end-l.start),n=m+d.length;if(m<k){for(;m>c&&!this.isWhitespace(b.charAt(m));)m--;if(m===c)n>c+d.length&&n--,m=n;else for(n=m;m>c&&this.isWhitespace(b.charAt(m-d.length));)m--}if(m>=c){var o=a(b,c,m,j);i.push(o)}c=n}return i},a.prototype.monospace=function(a,b,c,d){return{start:b,end:b+Math.min(d,c-b)}},a}(),a("default",g)}}}),a.register("c",[],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[],execute:function(){!function(a){a[a.INLINE=0]="INLINE",a[a.BLOCK=1]="BLOCK"}(c||(c={})),a("DisplayMode",c),d={default:{fontSize:13},h1:{fontSize:24,display:c.BLOCK},h2:{fontSize:22,display:c.BLOCK},h3:{fontSize:18,display:c.BLOCK},h4:{fontSize:16,display:c.BLOCK},h5:{fontSize:12,display:c.BLOCK},h6:{fontSize:10,display:c.BLOCK},p:{fontSize:13,display:c.BLOCK},b:{fontSubFamily:"bold"},i:{fontSubFamily:"italic"}},e=function(){function a(a,b){this.tags={},this._text=a,this.styles=b}return Object.defineProperty(a.prototype,"text",{get:function(){return this._text},set:function(a){this._text=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"styles",{get:function(){return this._styles},set:function(a){var b=this;this._styles={},Object.keys(a).concat(Object.keys(d)).reduce(function(a,b){return a.indexOf(b)<0?a.concat([b]):a},[]).forEach(function(c){var e=Object.assign({},d.default,a.default,d[c]||{},a[c]||{});b._styles[c]=e})},enumerable:!0,configurable:!0}),a.prototype.cleanText=function(){var a=this;this.tags={};var b=0;return this._text.replace(/<\/?(\w*)>/g,function(d,e,f,g){var h="";a.tags[e]||(a.tags[e]=[]);var i=a.tags[e][a.tags[e].length-1];return i&&!i.end||(i={},a.tags[e].push(i)),"/"===d[1]?(i.end=f+b,a._styles[e]&&a._styles[e].display===c.BLOCK&&(h="\n")):i.start=f+b,b-=d.length,b+=h.length,h})},a.prototype.getStyle=function(a){var b,c=this;return Object.keys(this.tags).forEach(function(d){c.tags[d].forEach(function(e){a>=e.start&&a<=e.end&&c._styles[d]&&(b=c._styles[d])})}),b||this._styles.default},a}(),a("default",e)}}}),a.register("d",["b","c"],function(a,b){"use strict";var c,d,e,f,g;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){a("Mode",c.Mode),e=1.175,function(a){a[a.LEFT=0]="LEFT",a[a.RIGHT=1]="RIGHT",a[a.CENTER=2]="CENTER"}(f||(f={})),a("Align",f),g=function(){function a(a,b){this._text=a,this.tagMapper=new d.default(this._text,b),this._styles=this.tagMapper.styles}return Object.defineProperty(a.prototype,"text",{get:function(){return this._text},set:function(a){this._text=a,this.tagMapper.text=this._text},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"styles",{get:function(){return this._styles},set:function(a){this.tagMapper.styles=a,this._styles=this.tagMapper.styles},enumerable:!0,configurable:!0}),a.prototype.getEmUnits=function(a,b){return a/(1/b.font.unitsPerEm*b.fontSize)},a.prototype.getPxByUnit=function(a,b){return a/b.font.unitsPerEm*b.fontSize},a.prototype.compute=function(a){void 0===a&&(a={}),this._opts=a;var b=this.tagMapper.cleanText(),d=this._opts.align||f.LEFT,g=this._opts.width||1/0;this.wordWrapper=new c.default(b,Object.assign(this._opts,{measure:this.measure.bind(this)}));for(var h=this.wordWrapper.lines(),i=h.reduce(function(a,b){return Math.max(a,b.width)},0),j=0,k=0,l=0,m=isFinite(g)?g:i,n=[],o=null,p=0,q=0,r=0,s=0,t=0;t<h.length;t++){for(var u=h[t],v=u.start,w=u.end,x=u.width,y=0,z=0,A=0,B=0,C=0,D=v,E=0;D<w;D++,E++){var F=b.charAt(D),G=this.tagMapper.getStyle(D);y=Math.max(y,this.getPxByUnit(G.font.ascender,G)),z=Math.max(z,this.getPxByUnit(G.font.descender,G)),A=Math.max(A,G.fontSize),C=Math.max(C,G.shadowBlur||0),D===v&&(r=G.shadowOffsetX||0,s=Math.max(s,G.shadowBlur||0))}for(var D=v,E=0;D<w;D++,E++){var F=b.charAt(D),G=this.tagMapper.getStyle(D);B=Math.max(B,(G.lineHeight||e)*A)}var H=Math.abs(y-z),I=B-H;l+=B,q=C,k+=B,0!==t&&(l+=I,k+=I);for(var D=v,E=0;D<w;D++,E++){var F=b.charAt(D),G=this.tagMapper.getStyle(D),J=this.getGlyph(G.font,F),K=J.getMetrics();D===v&&d===f.RIGHT&&(j-=this.getPxByUnit(K.leftSideBearing,G)),o&&(j+=this.getPxByUnit(G.font.getKerningValue(J,o),G)||0);var L=0;d===f.CENTER?L=(m-x)/2:d===f.RIGHT&&(L=m-x),0===E&&(j+=-this.getPxByUnit(K.xMin,G)),r<0&&(L+=s),n.push({position:{x:j+L,y:k},data:J,index:D,column:E,row:t,style:G});j+=(G.letterSpacing||0)+this.getPxByUnit(J.advanceWidth,G),o=J}r=0,j=0,p=I}l+=p;var M=0;return d===f.CENTER?M=(m-i)/2:d===f.RIGHT&&(M=m-i),{glyphs:n,lines:h,left:M,right:Math.max(0,m-i-M),width:m,height:l+q}},a.prototype.measure=function(a,b,c,d){return this.computeMetrics(a,b,c,d,0)},a.prototype.computeMetrics=function(a,b,c,d,e){void 0===d&&(d=1/0),void 0===e&&(e=0),b=Math.max(0,b||0),c=Math.min(c||a.length,a.length);for(var f=0,g=0,h=0,i=0,j=b;j<c;j++){var k=a.charAt(j),l=this.tagMapper.getStyle(j),m=this.getGlyph(l.font,k),n=0;if(j<c-1){var o=this.getGlyph(l.font,a.charAt(j+1));n+=this.getPxByUnit(l.font.getKerningValue(m,o),l),i=Math.abs(l.shadowBlur)}var p=m.getMetrics().xMax||0,q=m.getMetrics().xMin||0,r=p-q,s=this.getRightSideBearing(m),t=f+this.getPxByUnit(m.getMetrics().leftSideBearing+r+s,l)+Math.abs(i||0);if(t>d)break;f+=e+this.getPxByUnit(m.advanceWidth,l)+n,h=t,g++}return{start:b,end:b+g,width:h}},a.prototype.getRightSideBearing=function(a){var b=a.getMetrics(),c=(b.xMax||0)-(b.xMin||0);return a.advanceWidth-b.leftSideBearing-c},a.prototype.getGlyph=function(a,b){var c="\t"===b;return a.charToGlyph(c?" ":b)},a}(),a("default",g)}}}),a.register("e",["f","10","d"],function(a,b){"use strict";var c,d,e,f,g=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){a("Align",e.Align),f=function(a){function b(b,d,f,g){void 0===f&&(f={});var h=this;g=g||document.createElement("canvas"),g.width=3,g.height=3;var i=c.Texture.fromCanvas(g);return h=a.call(this,i)||this,h.resolution=1,h._wordWrap=!1,h._text=b,h._align=f.align||e.Align.LEFT,h._canvas=g,h._context=h._canvas.getContext("2d"),h._texture.on("update",function(){h.emit("updated")}),h.computeLayer=new e.default(h._text,h.parseStyle(d)),h._styles=h.computeLayer.styles,h.updateText(),h}return g(b,a),b.prototype.parseStyle=function(a){var b={};return Object.keys(a).forEach(function(c){var e=Object.assign({},a[c]);e.fontName?e.font=d.default.getFont(e.fontName):e.fontFamily&&(e.font=d.default.getFontFamily(e.fontFamily,e.fontSubFamily)),b[c]=e}),b},Object.defineProperty(b.prototype,"text",{get:function(){return this._text},set:function(a){this._text=a,this.computeLayer.text=this._text,this.updateText()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"styles",{get:function(){return this._styles},set:function(a){this.computeLayer.styles=this.parseStyle(a),this._styles=this.computeLayer.styles,this.updateText()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a,this._wordWrap&&this.updateText()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"align",{get:function(){return this._align},set:function(a){this._align=a,this.updateText()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(a){this._wordWrap=a,this.updateText()},enumerable:!0,configurable:!0}),b.prototype.updateText=function(){var a=this,b=this.computeLayer.compute({width:this._wordWrap?this.width:null,mode:!this._wordWrap||this.width<=0?e.Mode.NO_WRAP:e.Mode.GREEDY,align:this._align});this._width=b.width,this._height=b.height,this._canvas.width=this._width,this._canvas.height=this._height,b.glyphs.forEach(function(b){var c=b.data.getPath(b.position.x,b.position.y,b.style.fontSize);c.fill=b.style.fill||c.fill,c.stroke=b.style.stroke||c.stroke,c.strokeWidth=b.style.strokeWidth||c.strokeWidth,a._context.shadowColor=b.style.shadowColor||null,a._context.shadowOffsetX=b.style.shadowOffsetX||null,a._context.shadowOffsetY=b.style.shadowOffsetY||null,a._context.shadowBlur=b.style.shadowBlur||null,c.draw(a._context)})},b.prototype.updateCanvasSize=function(){this._texture.baseTexture.hasLoaded=!0,this._texture.baseTexture.resolution=this.resolution,this._texture.baseTexture.realWidth=this._canvas.width,this._texture.baseTexture.realHeight=this._canvas.height,this._texture.baseTexture.width=this._canvas.width/this.resolution,this._texture.baseTexture.height=this._canvas.height/this.resolution,this._onTextureUpdate(),this._texture.baseTexture.emit("update",this._texture.baseTexture)},b.prototype.renderWebGL=function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution),this.updateCanvasSize(),a.prototype.renderWebGL.call(this,b)},b.prototype._renderCanvas=function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution),this.updateCanvasSize(),a.prototype._renderCanvas.call(this,b)},b}(c.Sprite),a("default",f)}}}),a.register("11",[],function(a,b){"use strict";b&&b.id;return{setters:[],execute:function(){}}}),a.register("10",["12"],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[function(a){c=a}],execute:function(){a("Font",c.Font),d=function(){function a(){}return a.getFontFamily=function(b,c){return void 0===c&&(c="Regular"),a._fonts[a._fontsMapName[b][c]]},a.getFont=function(b){return a._fonts[b]},a.load=function(b,d){c.default.load(b,function(c,e){if(c)return d(c);if(!e)throw Error("Font "+b+" is not loaded");a._fonts[e.names.postScriptName.en]=e,a._fontsMapName[e.names.fontFamily.en]||(a._fontsMapName[e.names.fontFamily.en]={}),a._fontsMapName[e.names.fontFamily.en][e.names.fontSubfamily.en]=e.names.postScriptName.en,d(null,e)})},a}(),d._fonts={},d._fontsMapName={},a("default",d)}}}),a.register("a",["e","11","10"],function(a,b){"use strict";var c;b&&b.id;return{setters:[function(b){c=b,a({Align:b.Align})},function(b){a({TextStyle:b.default})},function(b){a({FontLoader:b.default,Font:b.Font})}],execute:function(){a("default",c.default)}}})})(function(a){if("function"==typeof define&&define.amd)define(["opentype.js","pixi.js"],a);else{if("object"!=typeof module||!module.exports||"function"!=typeof require)throw new Error("Module must be loaded as AMD or CommonJS");module.exports=a(require("opentype.js"),require("pixi.js"))}});
//# sourceMappingURL=bundle.min.js.map